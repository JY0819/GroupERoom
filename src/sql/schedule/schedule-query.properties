#Schedule-query

#select
selectAllSchedule=SELECT C.CALENDARNO, C.CALENDARCONTENTS, TO_CHAR(C.CALENDARDATE, 'RRRRMMDD HH24:MI:SS') as calendardate FROM CALENDAR C JOIN EMP E ON (E.EMPID=C.EMPID) WHERE (C.CALENDARCLASS=1 AND C.EMPID=? AND WHETHEROFDELETE='N') OR (C.CALENDARCLASS=2 AND C.DEPTID=(SELECT DEPTID FROM (SELECT L.* FROM LOGOFCHANGEDEPT L JOIN EMP E ON (E.EMPID=L.EMPID) JOIN DEPT D ON (D.DEPTID=L.DEPTID) ORDER BY L.CHANGEDAY DESC) WHERE ROWNUM=1 AND EMPID=?) AND C.WHETHEROFDELETE='N') OR (C.CALENDARCLASS=3 AND C.WHETHEROFDELETE='N');
selectMySchedule=SELECT C.CALENDARNO, C.CALENDARCLASS, E.EMPNAME, C.CALENDARCONTENTS, TO_CHAR(C.CALENDARDATE, 'RRRR/MM/DD HH24:MI:SS') AS CALENDARDATE FROM CALENDAR C JOIN EMP E ON (E.EMPID=C.EMPID) WHERE C.EMPID=? AND WHETHEROFDELETE='N' AND CALENDARCLASS=1
selectTeamSchedule=SELECT C.CALENDARNO, C.CALENDARCLASS, D.DEPTNAME, C.CALENDARCONTENTS, TO_CHAR(C.CALENDARDATE, 'RRRR/MM/DD HH24:MI:SS') as CALENDARDATE FROM CALENDAR C JOIN DEPT D ON (D.DEPTID=C.DEPTID) WHERE C.DEPTID=(SELECT DEPTID FROM (SELECT L.DEPTID FROM LOGOFCHANGEDEPT L JOIN EMP E ON (E.EMPID=L.EMPID) WHERE L.EMPID=? ORDER BY L.CHANGEDAY DESC) WHERE ROWNUM=1) AND WHETHEROFDELETE='N' AND CALENDARCLASS=2
selectCompanySchedule=SELECT C.CALENDARNO, C.CALENDARCLASS, C.CALENDARCONTENTS, TO_CHAR(C.CALENDARDATE, 'RRRR/MM/DD HH24:MI:SS') as CALENDARDATE FROM CALENDAR C WHERE C.CALENDARCLASS=3 AND C.WHETHEROFDELETE='N'
selectUseVac=SELECT TO_CHAR(U.USESTART, 'RRRRMMDD HH24:MI:SS'),  TO_CHAR(U.USEEND, 'RRRRMMDD HH24:MI:SS'), E.EMPNAME FROM USEVAC U JOIN EMP E ON (E.EMPID=U.EMPID) WHERE E.EMPID=1 AND E.WHETHEROFRETIRE='N'
selectDaySchedule=SELECT C.CALENDARNO, C.CALENDARCLASS, C.CALENDARCONTENTS, TO_CHAR(C.CALENDARDATE,'RRRRMMDD HH24:MI:SS') AS CALENDARDATE, C.EMPID, C.DEPTID  FROM CALENDAR C WHERE C.CALENDARNO=? AND C.WHETHEROFDELETE='N'

#insert
insertMySchedule=INSERT INTO CALENDAR (CALENDARNO, CALENDARCLASS, CALENDARCONTENTS, CALENDARDATE, EMPID, WHETHEROFDELETE) VALUES (SEQ_CAL.NEXTVAL, ?, ?, TO_DATE(?, 'RRRR-MM-DD HH24:MI:SS'), ?, DEFAULT)
insertTeamSchedule=INSERT INTO CALENDAR (CALENDARNO, CALENDARCLASS, CALENDARCONTENTS, CALENDARDATE, EMPID, DEPTID, whetherOfDelete) VALUES (SEQ_CAL.NEXTVAL, ?, ?, TO_DATE(?, 'RRRR-MM-DD HH24:MI:SS'), ?, (SELECT DEPTID FROM (SELECT L.* FROM LOGOFCHANGEDEPT L JOIN EMP E ON (E.EMPID=L.EMPID) JOIN DEPT D ON (D.DEPTID=L.DEPTID) ORDER BY L.CHANGEDAY DESC) WHERE ROWNUM=1 AND EMPID=?), DEFAULT)
insertCompanySchedule=INSERT INTO CALENDAR (CALENDARNO, CALENDARCLASS, CALENDARCONTENTS, CALENDARDATE, EMPID, WHETHEROFDELETE) VALUES (SEQ_CAL.NEXTVAL, ?, ?, TO_DATE(?, 'RRRR-MM-DD HH24:MI:SS'), ?, DEFAULT)


#modify
updateMySchedule=UPDATE CALENDAR SET CALENDARCLASS=?, CALENDARCONTENTS=?, CALENDARDATE=TO_DATE(?, 'RRRRMMDD HH24:MI:SS'), EMPID=? WHERE CALENDARNO=?
updateTeamSchedule=UPDATE CALENDAR SET CALENDARCLASS=?, CALENDARCONTENTS=?, CALENDARDATE=TO_DATE(?, 'RRRRMMDD HH24:MI:SS'), EMPID=?, DEPTID=? WHERE CALENDARNO=?
updateCompanySchedule=UPDATE CALENDAR SET CALENDARCLASS=?, CALENDARCONTENTS=?, CALENDARDATE=TO_DATE(?, 'RRRRMMDD HH24:MI:SS'), EMPID=? WHERE CALENDARNO=?

#delete
deleteDaySchedule=UPDATE CALENDAR SET WHETHEROFDELETE='Y', EMPID=? WHERE CALENDARNO=?
deleteMySchedule=UPDATE CALENDAR SET WHETHEROFDELETE='Y', EMPID=? WHERE CALENDARNO=?
deleteTeamSchedule=UPDATE CALENDAR SET WHETHEROFDELETE='Y', EMPID=? WHERE CALENDARNO=?
deleteCompanySchedule=UPDATE CALENDAR SET WHETHEROFDELETE='Y', EMPID=? WHERE CALENDARNO=?
